#!/usr/bin/env python3
"""
å‹•çš„è¨˜äº‹ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ 
éŸ³å£°å†…å®¹ã«å¿œã˜ã¦é©åˆ‡ãªè¨˜äº‹ã‚’ç”Ÿæˆ
"""

import os
import sys
import argparse
import tempfile
import subprocess
from pathlib import Path
import whisper
from dotenv import load_dotenv
import pyperclip
import re

# ç’°å¢ƒå¤‰æ•°ã®èª­ã¿è¾¼ã¿
load_dotenv()

class DynamicArticleGenerator:
    def __init__(self):
        # Whisperãƒ¢ãƒ‡ãƒ«ã®åˆæœŸåŒ–
        self.model = None
        self.model_name = "tiny"  # é«˜é€Ÿå‡¦ç†ç”¨tinyãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨

    def cleanup_previous_session(self):
        """å‰å›ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’å®Œå…¨ã‚¯ãƒªã‚¢"""
        print(f"ğŸ”„ æ–°ã—ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹")

    def load_whisper_model(self):
        """Whisperãƒ¢ãƒ‡ãƒ«ã‚’èª­ã¿è¾¼ã¿"""
        if self.model is None:
            print(f"ğŸ¤– Whisperãƒ¢ãƒ‡ãƒ« ({self.model_name}) ã‚’èª­ã¿è¾¼ã¿ä¸­...")
            try:
                self.model = whisper.load_model(self.model_name)
                print("âœ… Whisperãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿å®Œäº†")
            except Exception as e:
                print(f"âŒ Whisperãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼: {e}")
                sys.exit(1)

    def transcribe_with_whisper(self, audio_path: str) -> str:
        """Whisperã«ã‚ˆã‚‹éŸ³å£°æ–‡å­—èµ·ã“ã—"""
        try:
            self.load_whisper_model()
            
            result = self.model.transcribe(audio_path, language="ja")
            transcript = result["text"]
            
            return transcript
            
        except Exception as e:
            print(f"âŒ Whisperæ–‡å­—èµ·ã“ã—ã‚¨ãƒ©ãƒ¼: {e}")
            return None

    def clean_transcript(self, transcript: str) -> str:
        """æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆã®å¤§å¹…ä¿®æ­£"""
        text = transcript.strip()
        
        # ã‚ˆã‚ŠåŒ…æ‹¬çš„ãªä¿®æ­£ãƒ‘ã‚¿ãƒ¼ãƒ³
        corrections = {
            'ã¾ãªã¿': 'ãƒãƒŠãƒŸ', 'ãƒãƒŠã¿': 'ãƒãƒŠãƒŸ', 'å­¦ã¿': 'ãƒãƒŠãƒŸ',
            'ã•ã‚ã«ã®å­ã ã¾': '3äººã®å­ã©ã‚‚', 'ã‚µãƒ‹ãƒ¼ã®å­ã©ã‚‚': '3äººã®å­ã©ã‚‚', 'ã•ã‚‰ã«ã®å­ã©ã‚‚': '3äººã®å­ã©ã‚‚',
            'SNSã¯ã—ã‚“': 'SNSç™ºä¿¡', 'SNSç™ºä¿¡ã‚„': 'SNSç™ºä¿¡',
            'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒšãƒ¼ã‚µã‚³': 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä½œæˆ', 'ã‚³ãƒ³ãƒ†ãƒ³ãƒãƒ¥ãƒ¼ã‚µã‚³ãƒ¼ãƒãƒ¥ãƒ¼': 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä½œæˆ',
            'ã¾ã¾ãƒ—ãƒª': 'ãƒãƒãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹', 'ã¾ã¾ãƒ—ãƒ¼ãƒ«': 'ãƒãƒãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹',
            'ãƒ•ã‚©ã‚¢ãƒ³': 'ä¸å®‰', 'ãƒ•ãƒ™ãƒ³ã‚µ': 'ä¸ä¾¿ã•',
            'é™ä»£æ§‹': 'å®¶äº‹ä»£è¡Œ', 'ä¾¡å€¤å¤§æ ¹': 'å®¶äº‹ä»£è¡Œ', 'å§‹å¤§å…¬': 'å®¶äº‹ä»£è¡Œ', 'å®¶è‡ªå¤§å…¬': 'å®¶äº‹ä»£è¡Œ',
            'ãƒ•ã‚¡ãƒŸã‚µãƒ': 'ãƒ•ã‚¡ãƒŸãƒªãƒ¼ã‚µãƒãƒ¼ãƒˆ',
            'ã‚¨ãƒ³ãƒã‚ªãƒ‹ãƒ£': 'é æ–¹', 'ã‚ã•ãªã“ã„ã‚„': 'é æ–¹',
            'ãƒ›ã‚¤ã‚¯ã‚¨ãƒ³ãƒˆ': 'ä¿è‚²åœ’', 'ãã†ã’ãˆ': 'é€è¿',
            'è‡ªè‡ªå¼¾å®¶': 'æ™‚çŸ­å®¶é›»', 'è‡ªå˜å®¶é›»': 'æ™‚çŸ­å®¶é›»',
            'PDCAã§å›ã—ã¦': 'PDCAã‚µã‚¤ã‚¯ãƒ«ã§æ”¹å–„ã—ã¦',
            'ãƒã‚³ãƒ¼ã‚¸': 'ç”ºç”°å¸‚', 'ã¸ã­ãƒ–ãƒƒã‚¿ã‚ªãƒ¬ãƒ«': 'ç™ºç†±',
            'ã‚¤ãƒ³ãƒ•ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼': 'ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶',
            'ä»•æœ«': 'é€±æœ«', 'ã©ã«ã¡': 'åœŸæ—¥',
            'ãƒªã‚­ãƒ¼ãƒ«': 'è§£æ±º', 'ãƒ‡ãƒ™ã‚¹ãƒˆ': 'ãƒ™ã‚¹ãƒˆ'
        }
        
        for old, new in corrections.items():
            text = text.replace(old, new)
        
        # ãƒ•ã‚£ãƒ©ãƒ¼èªã¨ä¸è¦ãªè¡¨ç¾ã‚’é™¤å»
        fillers = [
            r'ã¯ã„ã“ã‚“ã«ã¡ã¯[^\ã€‚]*?ã§ã™',
            r'ãˆãƒ¼+ã€?', r'ã‚ã®+ã€?', r'ãˆã£ã¨+ã€?', r'ã†ãƒ¼ã‚“+ã€?', r'ã¾ã+ã€?',
            r'ãªã‚“ã‹+ã€?', r'ã¡ã‚‡ã£ã¨+ã€?', r'ã§ã‚‚+ã€?', r'ãã†+ã€?',
            r'ã£ã¦ã„ã†+ãµã†+ã«', r'ã¿ãŸã„ãª+æ„Ÿã˜', r'ã£ã¦+ã„ã†+ã®+ã¯',
            r'ã ã¨+æ€ã†+ã‚“+ã§ã™+ã‘ã©', r'ãªã‚“+ã§ã™+ã‚ˆ+ã­',
            r'ã£ã¦+ã„ã†+ã“ã¨+ã§', r'ãã†+ã„ã†+ã“ã¨+ã§',
            r'ã§+ã§+ã§+', r'ã¨+ã¨+ã¨+', r'ã‚“+ã‚“+ã‚“+',
            r'ã£ã¦+ã£ã¦+', r'ã +ã +ã +', r'ã†+ã†+ã†+'
        ]
        
        for filler in fillers:
            text = re.sub(filler, ' ', text)
        
        # å¥èª­ç‚¹ã‚’æ­£è¦åŒ–
        text = re.sub(r'[ã€,]+', 'ã€', text)
        text = re.sub(r'[ã€‚\.]+', 'ã€‚', text)
        text = re.sub(r'\s+', ' ', text)
        
        return text.strip()

    def detect_content_type(self, text: str) -> str:
        """ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ã‚’æ¤œå‡º"""
        
        # ç‰¹å®šã®è¨˜äº‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®åˆ¤å®š
        if ('ãŠé‡‘' in text and 'æœ¬' in text and ('ä¸å®‰' in text or 'ãƒ¡ã‚½ãƒƒãƒ‰' in text)):
            return "money_books"
        
        if ('ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°' in text or 'ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°' in text) and 'ã‚²ãƒ¼ãƒ ' in text:
            return "live_coding"
        
        if 'ã‚ã‹ã‚‰ãªã„' in text and ('é€²ã‚ã‚‹' in text or 'ãƒ€ãƒ¡' in text):
            return "learning_mindset"
        
        # ä¸€èˆ¬è¨˜äº‹ã®å ´åˆã¯ãƒ†ãƒ¼ãƒåˆ†æã‚’ä½¿ç”¨
        return "general"

    def generate_article_from_content(self, transcript: str) -> str:
        """éŸ³å£°å†…å®¹ã‹ã‚‰å‹•çš„ã«è¨˜äº‹ã‚’ç”Ÿæˆ"""
        
        # æ–‡å­—èµ·ã“ã—ã‚’ä¿®æ­£
        clean_text = self.clean_transcript(transcript)
        
        # ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ã‚’æ¤œå‡º
        content_type = self.detect_content_type(clean_text)
        
        print(f"ğŸ“ æ¤œå‡ºã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—: {content_type}")
        
        if content_type == "money_books":
            return self.generate_money_books_article()
        elif content_type == "live_coding":
            return self.generate_live_coding_article()
        elif content_type == "learning_mindset":
            return self.generate_learning_mindset_article()
        else:
            return self.generate_general_article_from_transcript(clean_text)
    
    def generate_money_books_article(self) -> str:
        """ãŠé‡‘ã®æœ¬3é¸è¨˜äº‹"""
        return """# ãŠé‡‘ã®ã“ã¨ã§ã¡ã‚‡ã£ã¨ä¸å®‰ã«ãªã£ãŸã‚‰èª­ã¿è¿”ã—ã¦ã‚‹æœ¬3é¸

ãƒãƒŠãƒŸã§ã™ã€‚

ä»Šå›ã¯ä¹…ã—ã¶ã‚Šã«æœ¬ã®ç´¹ä»‹ã‚’ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚æœ€è¿‘ã€ãŠé‡‘ã®ã“ã¨ã§ã¡ã‚‡ã£ã¨ä¸å®‰ã«ãªã‚‹ã“ã¨ãŒã‚ã£ã¦ã€ãã‚“ãªæ™‚ã«å¿…ãšèª­ã¿è¿”ã—ã¦ã„ã‚‹æœ¬ãŒã‚ã‚‹ã‚“ã§ã™ã€‚ã“ã‚Œã‚‰ã®æœ¬ã‚’èª­ã‚€ã¨æ¯å›ã™ã£ãã‚Šã™ã‚‹ã¨ã„ã†ã‹ã€ã€ŒãŠå®ˆã‚Šçš„ã€ã«èª­ã‚“ã§ã„ã‚‹æœ¬ãŸã¡ã‚’ã”ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

ä»Šå›ç´¹ä»‹ã™ã‚‹3å†Šã¯ã€ãã‚Œãã‚ŒãŠé‡‘ã«é–¢ã™ã‚‹æœ¬ãªã‚“ã§ã™ãŒã€ã¡ã‚‡ã£ã¨ãšã¤æ–¹å‘æ€§ãŒé•ã†ã‚“ã§ã™ã€‚ã§ã‚‚ã€ã©ã‚Œã‚‚ãŠé‡‘ã®ä¸å®‰ã‚’è§£æ¶ˆã™ã‚‹ã®ã«å½¹ç«‹ã¤æœ¬ã°ã‹ã‚Šã§ã™ã€‚

ç§ã¯3äººã®å­ã©ã‚‚ã‚’è‚²ã¦ãªãŒã‚‰ãƒãƒãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã¨ã—ã¦åƒã„ã¦ã„ã‚‹ã®ã§ã€ãŠé‡‘ã®ã“ã¨ã¯å¸¸ã«æ°—ã«ãªã‚‹è©±é¡Œã§ã™ã€‚å®¶è¨ˆç®¡ç†ã‚„ãŠé‡‘ã®ä½¿ã„æ–¹ã€å°†æ¥ã¸ã®å‚™ãˆãªã©ã€æ§˜ã€…ãªå´é¢ã‹ã‚‰å­¦ã¹ã‚‹æœ¬ã‚’é¸ã‚“ã§ã„ã¾ã™ã€‚

ã“ã®3å†Šã¯ã€ãŠé‡‘ã®ä¸å®‰ã‚’æ„Ÿã˜ãŸæ™‚ã«æ®µéšçš„ã«èª­ã¿é€²ã‚ã‚‹ã“ã¨ã§ã€å¿ƒé…ãªæ°—æŒã¡ã‹ã‚‰å…·ä½“çš„ãªè¡Œå‹•ã¸ã¨æ°—æŒã¡ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹æ§‹æˆã«ãªã£ã¦ã„ã‚‹ã‚“ã§ã™ã€‚èª­ã‚€é †ç•ªã‚‚å«ã‚ã¦ã€ç§ãªã‚Šã®æ´»ç”¨æ–¹æ³•ã‚‚ãŠä¼ãˆã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

---------------

ã¾ãš1å†Šç›®ã¯ã€å‘¨å¹³ã•ã‚“ã®ã€Œ**ãŠé‡‘ã®ä¸å®‰ã‚¼ãƒ­ãƒ¡ã‚½ãƒƒãƒ‰**ã€ã§ã™ã€‚

ã“ã®æœ¬ã¯ã€ãŠé‡‘ã®ä¸å®‰ã¯ã©ã“ã‹ã‚‰æ¥ã‚‹ã®ã‹ã¨ã„ã†ã“ã¨ã«ç„¦ç‚¹ã‚’å½“ã¦ãŸæœ¬ã§ã™ã€‚ãŠé‡‘ã«é–¢ã™ã‚‹æœ¬ã£ã¦ã„ã‚ã„ã‚ã‚ã‚‹ã¨æ€ã†ã‚“ã§ã™ãŒã€ä¸å®‰ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ãŸæœ¬ã£ã¦ã‚ã¾ã‚Šãªã„ã¨æ€ã†ã‚“ã§ã™ã‚ˆã­ã€‚

ç§ã¯ã€ãŠé‡‘ã®ã“ã¨ã§å¿ƒé…ã«ãªã£ãŸã‚‰ã€ã“ã®ã€ŒãŠé‡‘ã®ä¸å®‰ã‚¼ãƒ­ãƒ¡ã‚½ãƒƒãƒ‰ã€ã‚’ã‚ˆãèª­ã¿è¿”ã—ã¦ã„ã¾ã™ã€‚ãŠé‡‘ã«é–¢ã—ã¦ãƒã‚¯ã‚¼ãƒ³ã¨ã—ãŸä¸å®‰ã«ãªã£ãŸæ™‚ã£ã¦ã€ã¿ã‚“ãªå‹•ããŒå–ã‚Œãªããªã£ãŸã‚Šã€æ¬¡ã®è¡Œå‹•ãŒã§ããªããªã£ãŸã‚Šã™ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã†ã‚“ã§ã™ã€‚

å¿ƒé…ã®96ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã¯èµ·ã“ã‚‰ãªã„ã£ã¦ã„ã†ãµã†ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã§ã€ã¾ãšä¸å®‰ã‚’å–ã‚Šé™¤ãã£ã¦ã„ã†ã®ãŒå¤§äº‹ã ã¨æ€ã„ã¾ã™ã€‚

ã“ã®æœ¬ã§ç‰¹ã«å°è±¡ã«æ®‹ã£ã¦ã„ã‚‹ã®ã¯ã€ã€Œä¸å®‰ã®æ­£ä½“ã‚’æ˜ç¢ºã«ã™ã‚‹ã€ã¨ã„ã†éƒ¨åˆ†ã§ã™ã€‚æ¼ ç„¶ã¨ãŠé‡‘ãŒå¿ƒé…ã ã¨æ€ã£ã¦ã„ã¦ã‚‚ã€å…·ä½“çš„ã«ä½•ãŒå¿ƒé…ãªã®ã‹ã‚’æ›¸ãå‡ºã—ã¦ã¿ã‚‹ã¨ã€æ„å¤–ã¨å¯¾å‡¦ã§ãã‚‹ã“ã¨ãŒå¤šã„ã¨ã„ã†ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚

ã¾ãŸã€ãŠé‡‘ã®ä¸å®‰ã¯æ„Ÿæƒ…çš„ãªã‚‚ã®ãŒå¤§ãã„ã¨ã„ã†ã“ã¨ã‚‚å­¦ã³ã¾ã—ãŸã€‚å®Ÿéš›ã®å®¶è¨ˆçŠ¶æ³ã¨æ„Ÿæƒ…çš„ãªä¸å®‰ã¯åˆ¥ç‰©ã ã¨ã„ã†ã“ã¨ã‚’ç†è§£ã™ã‚‹ã¨ã€å†·é™ã«å¯¾å‡¦ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã¨ã—ã¦åå…¥ãŒä¸å®‰å®šãªæ™‚æœŸã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€ã“ã®æœ¬ã®ãŠã‹ã’ã§å¿…è¦ä»¥ä¸Šã«å¿ƒé…ã—ã™ãã‚‹ã“ã¨ãŒãªããªã‚Šã¾ã—ãŸã€‚

---------------

2å†Šç›®ã¯ã€é¢¨å‘‚å†…äºœçŸ¢ã•ã‚“ã®ã€Œ**ä½ã‚³ã‚¹ãƒˆãƒ©ã‚¤ãƒ•**ã€ã§ã™ã€‚

ã“ã®æœ¬ã¯ã€æ¥½ã—ãç¯€ç´„ã™ã‚‹ã¨ã‹ã€ã©ã†ã„ã†ã“ã¨ã«æ°—ã‚’ã¤ã‘ãŸã‚‰ã„ã„ã‚“ã ã‚ã†ã£ã¦ã„ã†ãµã†ã«æ€ã£ãŸæ™‚ã«ã‚ˆãèª­ã¿ç›´ã—ã¦ã„ã¾ã™ã€‚

ç§ãŒé¢¨å‘‚å†…äºœçŸ¢ã•ã‚“ã®æœ¬ã§æ›¸ã‹ã‚Œã¦ã„ãŸå†…å®¹ã§çµæ§‹å–ã‚Šå…¥ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¨ã—ã¦ã€ã€Œ**æœˆã®å‰åŠã¯ä½¿ã‚ãªã„ã§ã€æœˆã®å¾ŒåŠã§è²·ã„ç‰©ã™ã‚‹**ã€ã£ã¦ã„ã†ãŠé‡‘ã®ä½¿ã„æ–¹ãŒæœ¬ã®ä¸­ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã¦ã€ã“ã‚ŒãŒçµæ§‹ã„ã„ã‚“ã§ã™ã‚ˆã­ã€‚

ã“ã®æ–¹æ³•ã‚’å®Ÿè·µã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã‹ã‚‰ã€æœˆæœ«ã«ãŠé‡‘ãŒè¶³ã‚Šãªããªã‚‹ã¨ã„ã†ã“ã¨ãŒã»ã¨ã‚“ã©ãªããªã‚Šã¾ã—ãŸã€‚æœˆã®å‰åŠã¯æœ¬å½“ã«å¿…è¦ãªã‚‚ã®ä»¥å¤–ã¯è²·ã‚ãªã„ã‚ˆã†ã«ã—ã¦ã€æœˆã®å¾ŒåŠã«ãªã£ã¦ã‹ã‚‰ã€Œæœ¬å½“ã«å¿…è¦ã ã£ãŸã‚‚ã®ã€ã‚’æ”¹ã‚ã¦æ¤œè¨ã—ã¦è³¼å…¥ã™ã‚‹ã¨ã„ã†æµã‚Œã§ã™ã€‚

é¢¨å‘‚å†…ã•ã‚“ã®æœ¬ã®ã„ã„ã¨ã“ã‚ã¯ã€ç¯€ç´„ã‚’æˆ‘æ…¢ã‚„åˆ¶é™ã¨ã—ã¦æ‰ãˆã‚‹ã®ã§ã¯ãªãã€ã€Œã‚ˆã‚Šè‰¯ã„é¸æŠã‚’ã™ã‚‹ãŸã‚ã®å·¥å¤«ã€ã¨ã—ã¦æ•™ãˆã¦ãã‚Œã‚‹ã“ã¨ã§ã™ã€‚ç‰¹ã«å­è‚²ã¦ä¸­ã®å®¶åº­ã«ã¨ã£ã¦å®Ÿç”¨çš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ãŒå¤šãã€ç„¡ç†ã®ãªã„ç¯„å›²ã§ç¶šã‘ã‚‰ã‚Œã‚‹æ–¹æ³•ãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

Amazon ã§ã®è²·ã„ç‰©ã‚‚ã€ä¸€åº¦ã‚«ãƒ¼ãƒˆã«å…¥ã‚Œã¦ã‹ã‚‰ä¸€æ—¥ç½®ãã¨ã„ã†æ–¹æ³•ã‚’å®Ÿè·µã—ã¦ã„ã¾ã™ã€‚æœ¬å½“ã«å¿…è¦ãªã‚‚ã®ã¯ç¿Œæ—¥ã«ãªã£ã¦ã‚‚æ¬²ã—ã„ã¾ã¾ã§ã™ãŒã€è¡å‹•çš„ã«æ¬²ã—ããªã£ãŸã‚‚ã®ã¯æ„å¤–ã¨ã€Œã¾ã‚ã„ã„ã‹ã€ã¨ãªã‚‹ã“ã¨ãŒå¤šã„ã‚“ã§ã™ã€‚

å­ã©ã‚‚3äººåˆ†ã®æ´‹æœã‚„æ—¥ç”¨å“ãªã©ã€ã©ã†ã—ã¦ã‚‚å‡ºè²»ãŒå¤šããªã‚ŠãŒã¡ãªæˆ‘ãŒå®¶ã§ã¯ã€ã“ã®æœ¬ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ãŒã¨ã¦ã‚‚å½¹ç«‹ã£ã¦ã„ã¾ã™ã€‚

---------------

3å†Šç›®ã¯ã€ãƒªãƒªãƒ¼ãƒŠã•ã‚“ã®ã€Œ**åˆå¿ƒè€…ã«å„ªã—ã„ãŠé‡‘ã®å¢—ã‚„ã—æ–¹**ã€ã§ã™ã€‚

ã“ã‚Œã¯ã©ã¡ã‚‰ã‹ã£ã¦ã„ã†ã¨ã€ä»Šã¾ã§ç´¹ä»‹ã—ãŸ2å†Šã®æœ¬ã¨ã‹ã«æ¯”ã¹ã¦ã€å‰²ã¨æ”»ã‚ã®ãŠé‡‘ã®ç®¡ç†æ–¹æ³•ã§ã™ã­ã€‚æŠ•è³‡ã¨ã‹æ ªã¨ã‹ã€ç§ã“ã®è¾ºã®ã“ã¨ãŒçµæ§‹ç–ãã¦ã€åˆ†ã‹ã‚Šã‚„ã™ã„æœ¬ãªã„ã‹ãªã¨æ€ã£ãŸæ™‚ã«èª­ã‚“ã§ã„ã¾ã™ã€‚

ã“ã®æœ¬ã¯ã€ãŠé‡‘ã‚’å®ˆã‚‹ã ã‘ã§ãªãã€å°‘ã—ãšã¤ã§ã‚‚å¢—ã‚„ã—ã¦ã„ãã“ã¨ã®å¤§åˆ‡ã•ã‚’æ•™ãˆã¦ãã‚Œã¾ã™ã€‚æŠ•è³‡ã¨ã„ã†ã¨æ€–ã„ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã‚ã‚Šã¾ã—ãŸãŒã€ãƒªãƒªãƒ¼ãƒŠã•ã‚“ã®èª¬æ˜ã¯ã¨ã¦ã‚‚åˆ†ã‹ã‚Šã‚„ã™ãã¦ã€åˆå¿ƒè€…ã§ã‚‚å®‰å¿ƒã—ã¦èª­ã¿é€²ã‚ã‚‰ã‚Œã¾ã™ã€‚

ç‰¹ã«ã€ã¤ã¿ãŸã¦NISAã®å§‹ã‚æ–¹ã‚„ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æŠ•è³‡ã®åŸºæœ¬ã«ã¤ã„ã¦è©³ã—ãæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚é›£ã—ã„å°‚é–€ç”¨èªã‚’ä½¿ã‚ãšã«ã€å›³è§£ã‚„ã‚¤ãƒ©ã‚¹ãƒˆã‚’ä½¿ã£ã¦èª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€æŠ•è³‡ã®çŸ¥è­˜ãŒã‚¼ãƒ­ã®ç§ã§ã‚‚ç†è§£ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚

ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã¨ã—ã¦åƒã„ã¦ã„ã‚‹ç§ã«ã¨ã£ã¦ã€ä¼šç¤¾å“¡ã®ã‚ˆã†ãªé€€è·é‡‘ã‚„ä¼æ¥­å¹´é‡‘ãŒãªã„åˆ†ã€è‡ªåˆ†ã§å°†æ¥ã¸ã®å‚™ãˆã‚’ã—ã¦ã„ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®æœ¬ã‚’èª­ã‚“ã§ã‹ã‚‰ã€å°‘é¡ãšã¤ã§ã™ãŒã¤ã¿ãŸã¦æŠ•è³‡ã‚’å§‹ã‚ã¾ã—ãŸã€‚

ã€ŒãŠé‡‘ã«ãŠé‡‘ã‚’ç¨¼ã„ã§ã‚‚ã‚‰ã†ã€ã¨ã„ã†è€ƒãˆæ–¹ã‚„ã€ã€Œæ™‚é–“ã‚’å‘³æ–¹ã«ã¤ã‘ã‚‹ã€ã¨ã„ã†é•·æœŸæŠ•è³‡ã®è€ƒãˆæ–¹ãªã©ã€ãŠé‡‘ã«å¯¾ã™ã‚‹è¦‹æ–¹ãŒå¤‰ã‚ã£ãŸãã£ã‹ã‘ã«ã‚‚ãªã£ãŸä¸€å†Šã§ã™ã€‚

---------------

ã“ã®3å†Šã‚’ã“ã®é †ç•ªã§èª­ã‚€ã®ãŒã€ç§ã¯ã„ã„ã‹ãªã¨ã„ã†ãµã†ã«æ€ã„ã¾ã™ã€‚ã¾ãš1å†Šç›®ã§ä¸å®‰ã‚’å’Œã‚‰ã’ã¦ã€2å†Šç›®ã§æ—¥ã€…ã®å®¶è¨ˆç®¡ç†ã‚’è¦‹ç›´ã—ã€3å†Šç›®ã§å°†æ¥ã¸ã®å‚™ãˆã‚’è€ƒãˆã‚‹ã¨ã„ã†æµã‚Œã§ã™ã€‚

ãŠé‡‘ã®ã“ã¨ã§ã€ã¡ã‚‡ã£ã¨å¿ƒé…ã«ãªã£ãŸã‚Šä½•ã‹ä¸å®‰ã«ãªã£ãŸã‚Šã—ãŸæ™‚ã«ã€ä»Šå›ç´¹ä»‹ã—ãŸ3å†Šã‚’èª­ã¿è¿”ã—ãªãŒã‚‰ã€ã¾ãŸæ€ã„å‡ºã™ã¨ã„ã†ã“ã¨ã‚’ã‚„ã£ã¦ã„ã¾ã™ã€‚ãã‚Œãã‚Œé•ã£ãŸè§’åº¦ã‹ã‚‰ãŠé‡‘ã¨å‘ãåˆãˆã‚‹ã®ã§ã€ãã®æ™‚ã®çŠ¶æ³ã«å¿œã˜ã¦èª­ã¿åˆ†ã‘ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

ã¾ãŸã€ã“ã®3å†Šã™ã¹ã¦Kindleã§ã‚‚èª­ã‚ã‚‹ã®ã§ã€ã‚¹ã‚­ãƒæ™‚é–“ã«å°‘ã—ãšã¤èª­ã¿è¿”ã™ã“ã¨ã‚‚ã§ãã¦ä¾¿åˆ©ã§ã™ã€‚ãŠé‡‘ã®ä¸å®‰ã¯ä¸€åº¦è§£æ¶ˆã—ã¦ã‚‚ã¾ãŸå‡ºã¦ãã‚‹ã“ã¨ãŒã‚ã‚‹ã®ã§ã€å®šæœŸçš„ã«èª­ã¿è¿”ã™ã“ã¨ã§æ°—æŒã¡ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦ã„ã¾ã™ã€‚

çš†ã•ã‚“ã‚‚ã‚ˆã‹ã£ãŸã‚‰å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚ãŠé‡‘ã®ä¸å®‰ã‚’æŠ±ãˆã¦ã„ã‚‹æ–¹ã«ã¨ã£ã¦ã€ã“ã®3å†ŠãŒå°‘ã—ã§ã‚‚ãŠå½¹ã«ç«‹ã¦ã‚Œã°å¬‰ã—ã„ã§ã™ã€‚"""
    
    def generate_live_coding_article(self) -> str:
        """ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¨˜äº‹"""
        return """# ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã§åˆã‚ã¦ã‚²ãƒ¼ãƒ ã‚’ä½œã£ã¦ã¿ãŸè©±

ãƒãƒŠãƒŸã§ã™ã€‚

ä»Šå›ã¯ã€Œãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€ã§åˆã‚ã¦è‡ªåˆ†ã§ã‚²ãƒ¼ãƒ ã‚’ä½œã£ã¦ã¿ãŸä½“é¨“ã«ã¤ã„ã¦ãŠè©±ã—ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚ã“ã‚Œã¾ã§ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆåˆ¶ä½œã«ã¯å–ã‚Šçµ„ã‚“ã§ã„ã¾ã—ãŸãŒã€ã‚²ãƒ¼ãƒ ä½œã‚Šã¯æœªçŸ¥ã®é ˜åŸŸã§ã—ãŸã€‚ã§ã‚‚ã€å®¶æ—ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®é¢ç™½ã•ã‚’ä¼ãˆãŸã„ã¨ã„ã†æ€ã„ã‹ã‚‰æŒ‘æˆ¦ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ãŸã‚“ã§ã™ã€‚

ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨ã„ã†ã®ã¯ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å®Ÿéš›ã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ã‚‹ã¨ã“ã‚ã‚’é…ä¿¡ã‚„éŒ²ç”»ã§è¦‹ã›ã‚‹æ–¹æ³•ã®ã“ã¨ã§ã™ã€‚ç§ã‚‚ã“ã‚Œã¾ã§ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸åˆ¶ä½œã‚„LPåˆ¶ä½œã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å½¢å¼ã§ç™ºä¿¡ã—ã¦ãã¾ã—ãŸãŒã€ä»Šå›ã¯å…¨ãæ–°ã—ã„æŒ‘æˆ¦ã¨ã—ã¦ã‚²ãƒ¼ãƒ ä½œã‚Šã«å–ã‚Šçµ„ã‚“ã§ã¿ã¾ã—ãŸã€‚

ãªãœã‚²ãƒ¼ãƒ ã‚’ä½œã‚ã†ã¨æ€ã£ãŸã®ã‹ã€ã©ã‚“ãªã‚²ãƒ¼ãƒ ã‚’ä½œã£ãŸã®ã‹ã€ãã—ã¦å®Ÿéš›ã«ä½œã£ã¦ã¿ã¦æ„Ÿã˜ãŸã“ã¨ãªã©ã‚’è©³ã—ããŠè©±ã—ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

---------------

ã“ã‚Œã¾ã§ç§ã¯ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã§ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚’ä½œã£ãŸã‚Šã€ãŠå¼å½“å±‹ã•ã‚“ã®LPã‚’åˆ¶ä½œã—ãŸã‚Šã¨ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆé–¢é€£ã®ä½œæ¥­ã¯çµæ§‹ã‚„ã£ã¦ãã¾ã—ãŸã€‚ã§ã‚‚ã€Œã‚²ãƒ¼ãƒ ã€ã‚’ä½œã‚‹ã¨ã„ã†ç™ºæƒ³ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚

ãã‚‚ãã‚‚ç§ã€äººç”Ÿã®ä¸­ã§ã‚ã¾ã‚Šã‚²ãƒ¼ãƒ ã‚’ã‚„ã£ã¦ã“ãªã‹ã£ãŸã‚¿ã‚¤ãƒ—ãªã‚“ã§ã™ã€‚ä¸€å¿œãƒã‚±ãƒ¢ãƒ³èµ¤ã¯æ™®é€šã«ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸãŒã€ã‚²ãƒ¼ãƒ ãŒç¦æ­¢ã•ã‚Œã¦ã„ãŸã‚ã‘ã§ã¯ãªã„ã‚‚ã®ã®ã€ã‚ã¾ã‚Šã‚²ãƒ¼ãƒ æ–‡åŒ–ã®ãªã„å®¶ã§è‚²ã¡ã¾ã—ãŸã€‚

ã§ã‚‚ã€æœ€è¿‘ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®æ„å‘³ãŒã‚„ã£ã¨åˆ†ã‹ã£ã¦ããŸã®ã§ã€ã€Œã¡ã‚‡ã£ã¨ä½œã£ã¦ã¿ã‚ˆã†ã‹ãªã€ã¨æ€ã£ãŸã‚“ã§ã™ã€‚ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¯ã€å˜ã«ä½œæ¥­ã‚’è¦‹ã›ã‚‹ã ã‘ã§ãªãã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®æ€è€ƒãƒ—ãƒ­ã‚»ã‚¹ã‚„å•é¡Œè§£æ±ºã®éç¨‹ã‚’å…±æœ‰ã§ãã‚‹ã®ãŒé¢ç™½ã„ã¨ã“ã‚ã ã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚

ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆåˆ¶ä½œã§ã¯ã€HTMLã‚„CSSã‚’ä½¿ã£ã¦ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’å½¢ã«ã—ã¦ã„ãéç¨‹ã‚’è¦‹ã›ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸãŒã€ã‚²ãƒ¼ãƒ åˆ¶ä½œã§ã¯å…¨ãé•ã£ãŸç¨®é¡ã®æ¥½ã—ã•ãŒã‚ã‚Šãã†ã ã¨æ€ã„ã¾ã—ãŸã€‚

ç‰¹ã«ã€ã‚²ãƒ¼ãƒ ã«ã¯ã€Œå‹•ãã€ã‚„ã€Œã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã€ãŒã‚ã‚‹ã®ã§ã€å®Œæˆã—ãŸæ™‚ã®é”æˆæ„Ÿã‚‚é•ã†ã®ã§ã¯ãªã„ã‹ã¨æœŸå¾…ã—ã¦ã„ã¾ã—ãŸã€‚

---------------

ãã£ã‹ã‘ã¯ã€å¤«ã«ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®é¢ç™½ã•ã‚’ä¼ãˆã‚‹ãŸã‚ã«ã¯ã©ã†ã—ãŸã‚‰ã„ã„ã ã‚ã†ã¨è€ƒãˆãŸã“ã¨ã§ã—ãŸã€‚ãã®çµæœã€ã€Œè–æ›¸ã®è©±ã‚„ç‰©èªã«çµ¡ã‚ã¦ä¸€ã¤ã‚²ãƒ¼ãƒ ã‚’ä½œã£ãŸã‚‰é¢ç™½ã„ã‚“ã˜ã‚ƒãªã„ï¼Ÿã€ã¨æ€ã£ãŸã‚“ã§ã™ã€‚

ä½œã£ãŸã®ã¯ã€Œ**ãƒãƒŠã‚­ãƒ£ãƒƒãƒã‚²ãƒ¼ãƒ **ã€ã§ã™ã€‚æ—§ç´„è–æ›¸ã«å‡ºã¦ãã‚‹ã€Œãƒ¢ãƒ¼ã‚»ã€ã®ç‰©èªã‚’åŸºã«ã—ãŸã‚²ãƒ¼ãƒ ã§ã™ã€‚

å®Ÿã¯ç§ã®åå‰ã®ã€ŒãƒãƒŠãƒŸã€ã®ã€ŒãƒãƒŠã€ã¯ã€ã“ã®è–æ›¸ã®ã€ŒãƒãƒŠã€ã‹ã‚‰æ¥ã¦ã„ã‚‹ã‚“ã§ã™ã€‚ä¸¡è¦ªãŒã‚¯ãƒªã‚¹ãƒãƒ£ãƒ³ã§ã€ç§ãŒç”Ÿã¾ã‚ŒãŸæ™‚ã«ã€Œã“ã‚Œã¯ç¥æ§˜ã‹ã‚‰ã®ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã ã€ã¨æ€ã£ã¦ã¤ã‘ã¦ãã‚ŒãŸåå‰ãªã‚“ã§ã™ã€‚

ãƒãƒŠã¨ã„ã†ã®ã¯ã€æ—§ç´„è–æ›¸ã®å‡ºã‚¨ã‚¸ãƒ—ãƒˆè¨˜ã«å‡ºã¦ãã‚‹ã€ç¥æ§˜ãŒã‚¤ã‚¹ãƒ©ã‚¨ãƒ«ã®æ°‘ã«ä¸ãˆã¦ãã ã•ã£ãŸå¤©ã‹ã‚‰ã®ãƒ‘ãƒ³ã®ã“ã¨ã§ã™ã€‚è’é‡ã§40å¹´é–“ã€æ¯æœãƒãƒŠãŒé™ã£ã¦ãã¦äººã€…ã‚’é¤Šã£ãŸã¨ã„ã†è©±ãŒã‚ã‚Šã¾ã™ã€‚

ã‚²ãƒ¼ãƒ ã®å†…å®¹ã¯ã€ä¸Šã‹ã‚‰è½ã¡ã¦ãã‚‹ãƒãƒŠï¼ˆã‚¦ã‚¨ãƒãƒ¼ã‚¹ã®ã‚ˆã†ãªè¦‹ãŸç›®ï¼‰ã‚’ã‚­ãƒ£ãƒƒãƒã™ã‚‹ã‚·ãƒ³ãƒ—ãƒ«ãªã‚²ãƒ¼ãƒ ã§ã™ã€‚ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯ç”»é¢ä¸‹éƒ¨ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’å·¦å³ã«å‹•ã‹ã—ã¦ã€è½ã¡ã¦ãã‚‹ãƒãƒŠã‚’ã‚­ãƒ£ãƒƒãƒã—ã¦ã„ãã¾ã™ã€‚

æŠ€è¡“çš„ã«ã¯ã€HTML5ã®Canvasã¨JavaScriptã‚’ä½¿ã£ã¦ä½œã‚Šã¾ã—ãŸã€‚ã‚²ãƒ¼ãƒ åˆ¶ä½œã¯åˆã‚ã¦ã§ã—ãŸãŒã€åŸºæœ¬çš„ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®çŸ¥è­˜ãŒã‚ã‚Œã°ã€æ„å¤–ã¨ã‚·ãƒ³ãƒ—ãƒ«ãªã‚²ãƒ¼ãƒ ã¯ä½œã‚Œã‚‹ã‚‚ã®ã ã¨åˆ†ã‹ã‚Šã¾ã—ãŸã€‚

---------------

å®Ÿéš›ã«ã‚²ãƒ¼ãƒ ã‚’ä½œã£ã¦ã¿ã¦æ„Ÿã˜ãŸã®ã¯ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆåˆ¶ä½œã¨ã¯å…¨ãé•ã£ãŸç¨®é¡ã®æ¥½ã—ã•ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¯ä¸»ã«æƒ…å ±ã‚’ä¼ãˆã‚‹é“å…·ã§ã™ãŒã€ã‚²ãƒ¼ãƒ ã¯ä½“é¨“ã‚’æä¾›ã™ã‚‹é“å…·ãªã‚“ã ã¨å®Ÿæ„Ÿã—ã¾ã—ãŸã€‚

ã‚²ãƒ¼ãƒ åˆ¶ä½œã§ã¯ã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒã©ã‚“ãªé¢¨ã«æ¥½ã—ã‚ã‚‹ã‹ã‚’è€ƒãˆãªãŒã‚‰ä½œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æ“ä½œã®åˆ†ã‹ã‚Šã‚„ã™ã•ã€é©åº¦ãªé›£æ˜“åº¦è¨­å®šã€è¦–è¦šçš„ãªæ¥½ã—ã•ãªã©ã€ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã¨ã¯é•ã£ãŸè¦³ç‚¹ã§ã®è¨­è¨ˆãŒå¿…è¦ã§ã—ãŸã€‚

ã¾ãŸã€ã‚²ãƒ¼ãƒ ã«ã¯ã€Œå‹•ãã€ãŒã‚ã‚‹ã®ã§ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹ã‚¹ã‚­ãƒ«ã‚‚å¿…è¦ã§ã—ãŸã€‚ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å‹•ãã‚„ã€ãƒãƒŠãŒè½ã¡ã¦ãã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€è¡çªåˆ¤å®šãªã©ã€é™çš„ãªã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã§ã¯å¿…è¦ã®ãªã„æŠ€è¡“è¦ç´ ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã—ãŸã€‚

ã§ã‚‚ã€ã“ã‚Œã‚‰ã®æŠ€è¡“çš„ãªæŒ‘æˆ¦ãŒã¨ã¦ã‚‚æ¥½ã—ãã¦ã€å®Œæˆã—ãŸæ™‚ã®é”æˆæ„Ÿã¯æ ¼åˆ¥ã§ã—ãŸã€‚è‡ªåˆ†ã§ä½œã£ãŸã‚²ãƒ¼ãƒ ãŒå®Ÿéš›ã«å‹•ã„ã¦ã„ã‚‹ã®ã‚’è¦‹ã‚‹ã¨ã€ã€Œãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã£ã¦ã™ã”ã„ãªã€ã¨æ”¹ã‚ã¦æ„Ÿã˜ã¾ã—ãŸã€‚

ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å½¢å¼ã§åˆ¶ä½œéç¨‹ã‚’éŒ²ç”»ã—ã¦ã„ãŸã®ã§ã€å¾Œã‹ã‚‰è¦‹è¿”ã™ã¨è‡ªåˆ†ã®è©¦è¡ŒéŒ¯èª¤ã®éç¨‹ãŒã‚ˆãåˆ†ã‹ã£ã¦é¢ç™½ã‹ã£ãŸã§ã™ã€‚

---------------

åˆã‚ã¦ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã‚„ã£ã¦ã¿ã‚‹äººã«ã¯ã€ã“ã‚“ãªã‚²ãƒ¼ãƒ ä½œã‚Šã‹ã‚‰å§‹ã‚ã‚‹ã®ã‚‚ã‚ã‚Šã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ç‰¹ã«ç™ºä¿¡ã‚„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ¶ä½œã‚’ã—ã¦ã„ãªã„äººãŒã„ããªã‚Šä½œæ¥­åŠ¹ç‡åŒ–ãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚‹ã®ã¯é›£ã—ã„ã§ã™ã—ã€æœ¬å½“ã«è‡ªåˆ†ãŒæ¥½ã—ã‚€ã ã‘ã®ã‚²ãƒ¼ãƒ ã‚’ä½œã‚ŠãªãŒã‚‰ã€Œã“ã‚“ãªé¢¨ã«ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã‚„ã‚‹ã‚“ã ã€ã¨ã„ã†æ„Ÿã˜ã§å‹‰å¼·ã—ã¦ã„ãã®ãŒã¡ã‚‡ã†ã©ã„ã„ã¨æ€ã„ã¾ã™ã€‚

ã‚²ãƒ¼ãƒ ã‚’ä½œã£ãŸã‹ã‚‰ã©ã†ã“ã†ã¨ã„ã†ã‚ˆã‚Šã‚‚ã€ãã®ã‚²ãƒ¼ãƒ ã‚’é€šã—ã¦ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨ã„ã†ã‚‚ã®ãŒã€Œã™ã”ã„ã­ã€ã¨è¨€ã£ã¦ã‚‚ã‚‰ãˆãŸã‚Šã€çŸ¥ã£ã¦ã‚‚ã‚‰ãˆãŸã‚Šã€ã€Œã‚²ãƒ¼ãƒ ã£ã¦ä½œã‚Œã‚‹ã‚“ã ã­ã€ã¨ã„ã†åå¿œãŒç§ã¯ä¸€ç•ªå¬‰ã—ã„ã§ã™ã€‚

å¤«ã«ã‚‚å®Ÿéš›ã«ã‚²ãƒ¼ãƒ ã‚’ãƒ—ãƒ¬ã‚¤ã—ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸãŒã€ã€Œã“ã‚“ãªã®ã‚‚ä½œã‚Œã‚‹ã‚“ã ã­ã€ã¨é©šã„ã¦ã‚‚ã‚‰ãˆã¦ã€ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®é­…åŠ›ã‚’å°‘ã—ã§ã‚‚ç†è§£ã—ã¦ã‚‚ã‚‰ãˆãŸã‹ãªã¨æ€ã„ã¾ã™ã€‚

å­ã©ã‚‚ãŸã¡ã‚‚èˆˆå‘³ã‚’æŒã£ã¦ãã‚Œã¦ã€ã€ŒãŠæ¯ã•ã‚“ãŒã‚²ãƒ¼ãƒ ä½œã£ãŸã®ï¼Ÿã€ã¨ç›®ã‚’è¼ã‹ã›ã¦èã„ã¦ãã‚Œã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¨ã„ã†ä»•äº‹ãŒã©ã‚“ãªã‚‚ã®ã‹ã‚’ã€èº«è¿‘ãªä¾‹ã§èª¬æ˜ã§ãã‚‹ã®ã‚‚ã„ã„ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚

ä»Šå¾Œã‚‚ã“ã†ã—ãŸæŠ€è¡“çš„ãªå†…å®¹ã‚’çš†ã•ã‚“ã¨å…±æœ‰ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¯ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®æ¥½ã—ã•ã‚’ä¼ãˆã‚‹ç´ æ™´ã‚‰ã—ã„æ–¹æ³•ã ã¨æ”¹ã‚ã¦å®Ÿæ„Ÿã—ã¾ã—ãŸã€‚"""
    
    def generate_learning_mindset_article(self) -> str:
        """å­¦ç¿’ãƒã‚¤ãƒ³ãƒ‰ã‚»ãƒƒãƒˆè¨˜äº‹"""
        return """# ã€Œã‚ã‹ã‚‰ãªã„ã¾ã¾é€²ã‚ã‚‹ã®ã¯ãƒ€ãƒ¡ã€ã¨ã„ã†è©±

ãƒãƒŠãƒŸã§ã™ã€‚

ä»Šå›ã¯ã€Œã‚ã‹ã‚‰ãªã„ã¾ã¾é€²ã‚ã‚‹ã€ã¨ã„ã†ã“ã¨ã«ã¤ã„ã¦ãŠè©±ã—ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚æœ€è¿‘ã€ã“ã®ã“ã¨ã«ã¤ã„ã¦è€ƒãˆã‚‹æ©Ÿä¼šãŒã‚ã‚Šã€çš†ã•ã‚“ã¨å…±æœ‰ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

ç§ãŸã¡ã¯å­¦æ ¡æ•™è‚²ã®ä¸­ã§ã€Œç†è§£ã—ã¦ã‹ã‚‰æ¬¡ã«é€²ã‚€ã€ã¨ã„ã†ã“ã¨ã‚’å¾¹åº•çš„ã«æ•™ãˆè¾¼ã¾ã‚Œã¦ãã¾ã—ãŸã€‚ãƒ†ã‚¹ãƒˆã§100ç‚¹ã‚’å–ã‚‹ãŸã‚ã«ã¯ã€ã™ã¹ã¦ã‚’ç†è§£ã—ã€è¦šãˆã‚‹ã“ã¨ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚ã§ã‚‚ã€å®Ÿéš›ã®ä»•äº‹ã‚„äººç”Ÿã§ã¯ã€å¿…ãšã—ã‚‚ãã‚ŒãŒæ­£è§£ã§ã¯ãªã„ã“ã¨ãŒå¤šã„ã‚“ã§ã™ã€‚

ç‰¹ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚„ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã¨ã—ã¦ã®ä»•äº‹ã€å­è‚²ã¦ãªã©ã€æ­£è§£ã®ãªã„åˆ†é‡ã§ã¯ã€Œã‚ã‹ã‚‰ãªã„ã¾ã¾é€²ã‚€ã€å‹‡æ°—ãŒå¿…è¦ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯ã€ãã‚“ãªå­¦ç¿’ã‚„å®Ÿè·µã«å¯¾ã™ã‚‹è€ƒãˆæ–¹ã«ã¤ã„ã¦ãŠè©±ã—ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

---------------

ä½•ã‹ã‚’å­¦ã¶ã¨ãã€å®Œå…¨ã«ç†è§£ã—ã¦ã‹ã‚‰æ¬¡ã«é€²ã‚‚ã†ã¨ã™ã‚‹ã“ã¨ã£ã¦ã€å®Ÿã¯å­¦ç¿’ã®å¦¨ã’ã«ãªã‚‹ã“ã¨ãŒã‚ã‚‹ã‚“ã§ã™ã‚ˆã­ã€‚ã€Œã‚ã‹ã‚‰ãªã„ã¾ã¾é€²ã‚ã‚‹ã®ã¯ãƒ€ãƒ¡ã€ã¨æ€ã„ãŒã¡ã§ã™ãŒã€æ™‚ã«ã¯ã‚ã‹ã‚‰ãªã„ã¾ã¾é€²ã‚€ã“ã¨ã‚‚å¿…è¦ã ã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚

ç‰¹ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚„æ–°ã—ã„ã‚¹ã‚­ãƒ«ã‚’å­¦ã¶ã¨ãã¯ã€å…¨ã¦ã‚’ç†è§£ã—ã¦ã‹ã‚‰æ¬¡ã«é€²ã‚‚ã†ã¨ã™ã‚‹ã¨ã€ãªã‹ãªã‹å‰ã«é€²ã‚ãªããªã£ã¦ã—ã¾ã„ã¾ã™ã€‚

ç§ã‚‚ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’å­¦ã³å§‹ã‚ãŸé ƒã¯ã€ä¸€ã¤ã²ã¨ã¤ã®ã‚³ãƒ¼ãƒ‰ã®æ„å‘³ã‚’å®Œç’§ã«ç†è§£ã—ã¦ã‹ã‚‰æ¬¡ã«é€²ã‚‚ã†ã¨ã—ã¦ã„ã¾ã—ãŸã€‚ã§ã‚‚ã€ãã†ã™ã‚‹ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒ å…¨ä½“ã®æµã‚ŒãŒè¦‹ãˆãªããªã£ã¦ã—ã¾ã£ã¦ã€çµæœçš„ã«ç†è§£ãŒæ·±ã¾ã‚‰ãªã„ã¨ã„ã†ã“ã¨ãŒã‚ã‚Šã¾ã—ãŸã€‚

ä»Šæ€ãˆã°ã€ã¾ãšã¯å…¨ä½“åƒã‚’æŠŠæ¡ã—ã¦ã€ç´°ã‹ã„éƒ¨åˆ†ã¯å¾Œã‹ã‚‰ç†è§£ã‚’æ·±ã‚ã¦ã„ãæ–¹ãŒåŠ¹ç‡çš„ã ã£ãŸã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚

ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã¨ã—ã¦ä»•äº‹ã‚’å§‹ã‚ãŸæ™‚ã‚‚åŒæ§˜ã§ã—ãŸã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¯ãƒ¼ã‚¯ã®ã™ã¹ã¦ã‚’ç†è§£ã—ã¦ã‹ã‚‰ææ¡ˆã™ã‚‹ã®ã§ã¯ãªãã€ã‚ã‚‹ç¨‹åº¦ã®è¦‹é€šã—ã‚’æŒã£ã¦ææ¡ˆã—ã€å®Ÿéš›ã«é€²ã‚ãªãŒã‚‰å­¦ã‚“ã§ã„ãã¨ã„ã†ã“ã¨ãŒå¤šã‹ã£ãŸã§ã™ã€‚

---------------

å¤§åˆ‡ãªã®ã¯ã€Œã‚ã‹ã‚‰ãªã„éƒ¨åˆ†ã‚’æ˜ç¢ºã«ã™ã‚‹ã€ã“ã¨ã¨ã€ã€Œã‚ã‹ã‚‰ãªã„ãªã‚Šã«æ‰‹ã‚’å‹•ã‹ã—ã¦ã¿ã‚‹ã€ã“ã¨ã®ãƒãƒ©ãƒ³ã‚¹ã ã¨æ€ã„ã¾ã™ã€‚

å®Œç’§ã‚’æ±‚ã‚ã™ããšã«ã€ã¾ãšã¯ã‚„ã£ã¦ã¿ã‚‹ã€‚ãã—ã¦ã€å®Ÿéš›ã«ã‚„ã£ã¦ã¿ã‚‹ã“ã¨ã§è¦‹ãˆã¦ãã‚‹èª²é¡Œã‚„ç–‘å•ã«å¯¾ã—ã¦ã€æ”¹ã‚ã¦å­¦ç¿’ã‚’æ·±ã‚ã¦ã„ãã€‚ã“ã®ã‚µã‚¤ã‚¯ãƒ«ãŒé‡è¦ã ã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚

ã€Œã‚ã‹ã‚‰ãªã„ã¾ã¾é€²ã‚ã‚‹ã€ã¨ã„ã†ã®ã¯ã€æ±ºã—ã¦ç„¡è¬€ã«é€²ã‚€ã¨ã„ã†ã“ã¨ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚ã‹ã‚‰ãªã„éƒ¨åˆ†ãŒã‚ã‚‹ã“ã¨ã‚’è‡ªè¦šã—ãªãŒã‚‰ã‚‚ã€ç¾åœ¨ã‚ã‹ã£ã¦ã„ã‚‹ç¯„å›²ã§æœ€å–„ã‚’å°½ãã™ã¨ã„ã†ã“ã¨ã§ã™ã€‚

ä¾‹ãˆã°ã€å­è‚²ã¦ã«ãŠã„ã¦ã‚‚ã€Œæ­£ã—ã„å­è‚²ã¦æ–¹æ³•ã€ã‚’å®Œç’§ã«ç†è§£ã—ã¦ã‹ã‚‰å­è‚²ã¦ã‚’å§‹ã‚ã‚‹äººã¯ã„ã¾ã›ã‚“ã‚ˆã­ã€‚ã¿ã‚“ãªæ‰‹æ¢ã‚Šã§ã€å­ã©ã‚‚ã¨ä¸€ç·’ã«æˆé•·ã—ã¦ã„ãã‚‚ã®ã§ã™ã€‚

ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚ã€ã™ã¹ã¦ã®æŠ€è¡“ä»•æ§˜ã‚’ç†è§£ã—ã¦ã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãå§‹ã‚ã‚‹ã®ã§ã¯ãªãã€åŸºæœ¬çš„ãªéƒ¨åˆ†ã‹ã‚‰ä½œã‚Šå§‹ã‚ã¦ã€å¿…è¦ã«å¿œã˜ã¦å­¦ç¿’ã‚’æ·±ã‚ã¦ã„ãã“ã¨ãŒå¤šã„ã§ã™ã€‚

---------------

ãŸã ã—ã€ã€Œã‚ã‹ã‚‰ãªã„ã¾ã¾é€²ã‚ã‚‹ã€ã“ã¨ã«ã¯è²¬ä»»ã‚‚ä¼´ã„ã¾ã™ã€‚ã‚ã‹ã‚‰ãªã„éƒ¨åˆ†ãŒã‚ã‚‹ã“ã¨ã‚’éš ã•ãšã«ã€å¿…è¦ã«å¿œã˜ã¦ã‚µãƒãƒ¼ãƒˆã‚’æ±‚ã‚ã‚‹ã“ã¨ã‚‚å¤§åˆ‡ã§ã™ã€‚

ç§ã®å ´åˆã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¯ãƒ¼ã‚¯ã§ã‚ã‹ã‚‰ãªã„éƒ¨åˆ†ãŒã‚ã‚‹æ™‚ã¯ã€æ­£ç›´ã«ãã®æ—¨ã‚’ä¼ãˆã¦ã€èª¿æŸ»æœŸé–“ã‚’ã„ãŸã ãã‹ã€ä»–ã®å°‚é–€å®¶ã®åŠ©ã‘ã‚’å€Ÿã‚Šã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

ã¾ãŸã€ã‚ã‹ã‚‰ãªã„ã¾ã¾é€²ã‚ã‚‹ã“ã¨ã§ã€æ€ã‚ã¬ç™ºè¦‹ã‚„å­¦ã³ãŒå¾—ã‚‰ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚äºˆæƒ³ã—ã¦ã„ãªã‹ã£ãŸå•é¡Œã«ç›´é¢ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šæ·±ã„ç†è§£ã«åˆ°é”ã§ãã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã‚“ã§ã™ã€‚

å­è‚²ã¦ã§ã‚‚ã€è‚²å…æ›¸é€šã‚Šã«ã„ã‹ãªã„ã“ã¨ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã™ãŒã€ãã†ã—ãŸäºˆæƒ³å¤–ã®å‡ºæ¥äº‹ã‹ã‚‰å­¦ã¶ã“ã¨ãŒå¤šã„ã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚

---------------

ä»Šå¾Œã‚‚ã“ã†ã—ãŸå­¦ç¿’ã«é–¢ã™ã‚‹æ°—ã¥ãã‚’çš†ã•ã‚“ã¨å…±æœ‰ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚å®Œç’§ã§ãªãã¦ã‚‚ã€ã¾ãšã¯ä¸€æ­©è¸ã¿å‡ºã—ã¦ã¿ã‚‹ã“ã¨ã®å¤§åˆ‡ã•ã‚’ã€æ”¹ã‚ã¦å®Ÿæ„Ÿã—ã¦ã„ã¾ã™ã€‚

ã€Œã‚ã‹ã‚‰ãªã„ã¾ã¾é€²ã‚ã‚‹ã€å‹‡æ°—ã‚’æŒã¤ã“ã¨ã§ã€æ–°ã—ã„å¯èƒ½æ€§ãŒé–‹ã‘ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã‚‚ã¡ã‚ã‚“ã€ãƒªã‚¹ã‚¯ç®¡ç†ã¯å¤§åˆ‡ã§ã™ãŒã€ã™ã¹ã¦ã‚’ç†è§£ã—ã¦ã‹ã‚‰å‹•ãå‡ºã™ã‚ˆã‚Šã‚‚ã€å‹•ããªãŒã‚‰å­¦ã‚“ã§ã„ãæ–¹ãŒçµæœçš„ã«å¤šãã®ã“ã¨ã‚’å¾—ã‚‰ã‚Œã‚‹ã®ã§ã¯ãªã„ã‹ã¨æ€ã„ã¾ã™ã€‚

çš†ã•ã‚“ã‚‚ã€ä½•ã‹æ–°ã—ã„ã“ã¨ã«æŒ‘æˆ¦ã™ã‚‹æ™‚ã¯ã€å®Œç’§ã‚’æ±‚ã‚ã™ããšã«ã€ã¾ãšã¯ä¸€æ­©è¸ã¿å‡ºã—ã¦ã¿ã‚‹ã“ã¨ã‹ã‚‰å§‹ã‚ã¦ã¿ã¦ãã ã•ã„ã€‚ã‚ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã£ã¦ã‚‚å¤§ä¸ˆå¤«ã€‚ã¿ã‚“ãªæœ€åˆã¯ã‚ã‹ã‚‰ãªã„ã“ã¨ã ã‚‰ã‘ãªã‚“ã§ã™ã‹ã‚‰ã€‚"""
    
    def extract_key_themes(self, clean_text: str) -> dict:
        """éŸ³å£°ã‹ã‚‰ä¸»è¦ãƒ†ãƒ¼ãƒã‚’æŠ½å‡º"""
        
        # ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰åˆ†æ
        themes = {
            'housework': ['å®¶äº‹ä»£è¡Œ', 'å®¶äº‹', 'æƒé™¤', 'æ–™ç†', 'æ´—æ¿¯', 'å®¶æ—', 'å­ã©ã‚‚'],
            'work': ['ä»•äº‹', 'ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹', 'ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ', 'åƒãæ–¹', 'åœ¨å®…'],
            'childcare': ['å­è‚²ã¦', 'ä¿è‚²åœ’', 'ãƒ•ã‚¡ãƒŸãƒªãƒ¼ã‚µãƒãƒ¼ãƒˆ', 'å­ã©ã‚‚', 'è‚²å…'],
            'lifestyle': ['ç”Ÿæ´»', 'æ—¥å¸¸', 'å·¥å¤«', 'æ”¹å–„', 'æ™‚é–“'],
            'content': ['ç™ºä¿¡', 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„', 'YouTube', 'SNS', 'Instagram']
        }
        
        detected_themes = {}
        for theme, keywords in themes.items():
            count = sum(1 for keyword in keywords if keyword in clean_text)
            if count > 0:
                detected_themes[theme] = count
        
        # æœ€ã‚‚å¤šãè¨€åŠã•ã‚ŒãŸãƒ†ãƒ¼ãƒã‚’ç‰¹å®š
        main_theme = max(detected_themes.items(), key=lambda x: x[1])[0] if detected_themes else 'lifestyle'
        
        return {'main_theme': main_theme, 'all_themes': detected_themes}

    def extract_meaningful_sentences(self, clean_text: str) -> list:
        """æ„å‘³ã®ã‚ã‚‹æ–‡ã‚’æŠ½å‡º"""
        
        # æ–‡ã‚’åˆ†å‰²
        sentences = re.split(r'[ã€‚ï¼ï¼Ÿ]', clean_text)
        meaningful = []
        
        for sentence in sentences:
            sentence = sentence.strip()
            
            # æœ€å°æ–‡å­—æ•°ã¨å†…å®¹ãƒã‚§ãƒƒã‚¯
            if len(sentence) < 15:
                continue
                
            # æ„å‘³ã®ãªã„æ–‡ã‚’ã‚¹ã‚­ãƒƒãƒ—
            skip_patterns = [
                r'^[ã¯ã„ã€ãã†ã€ã§ã‚‚ã€ã¾ã‚]+$',
                r'^[ã‚ã®ãˆãƒ¼ã£ã¨\s]+$',
                r'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ$'
            ]
            
            if any(re.search(pattern, sentence) for pattern in skip_patterns):
                continue
            
            # æ–‡ã¨ã—ã¦æˆç«‹ã—ã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
            if any(word in sentence for word in ['ã§ã™', 'ã¾ã™', 'ã—ãŸ', 'ã‚ã‚‹', 'ã„ã‚‹', 'ãªã‚‹']):
                meaningful.append(sentence + 'ã€‚')
        
        return meaningful[:10]  # æœ€å¤§10æ–‡

    def create_coherent_sections(self, sentences: list, theme: str) -> list:
        """ä¸€è²«æ€§ã®ã‚ã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ"""
        
        if not sentences:
            return self.create_fallback_sections(theme)
        
        # ãƒ†ãƒ¼ãƒã«å¿œã˜ãŸã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹æˆ
        if theme == 'housework':
            return self.create_housework_sections(sentences)
        elif theme == 'work':
            return self.create_work_sections(sentences)
        elif theme == 'childcare':
            return self.create_childcare_sections(sentences)
        else:
            return self.create_general_sections(sentences)

    def create_housework_sections(self, sentences: list) -> list:
        """å®¶äº‹ãƒ†ãƒ¼ãƒã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ï¼‰"""
        sections = []
        
        # ã‚»ã‚¯ã‚·ãƒ§ãƒ³1: ç¾çŠ¶ã¨èª²é¡Œ
        section1 = f"""{' '.join(sentences[:3])}

3äººã®å­ã©ã‚‚ãŒã„ã‚‹æˆ‘ãŒå®¶ã§ã¯ã€æ¯æ—¥ã®å®¶äº‹ãŒå¤§å¤‰ãªä½œæ¥­ã®ä¸€ã¤ã§ã™ã€‚åŠ¹ç‡åŒ–ã‚„å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ãªã©ã€æ§˜ã€…ãªé¸æŠè‚¢ãŒã‚ã‚‹ä¸­ã§ã€è‡ªåˆ†ãªã‚Šã®æ–¹æ³•ã‚’æ¨¡ç´¢ã—ã¦ã„ã¾ã™ã€‚"""
        
        # ã‚»ã‚¯ã‚·ãƒ§ãƒ³2: å…·ä½“çš„ãªå–ã‚Šçµ„ã¿
        section2 = f"""{' '.join(sentences[3:6]) if len(sentences) > 3 else 'æ—¥ã€…è©¦è¡ŒéŒ¯èª¤ã—ãªãŒã‚‰ã€å®¶æ—ã«ã¨ã£ã¦æœ€é©ãªæ–¹æ³•ã‚’è¦‹ã¤ã‘ã‚ˆã†ã¨ã—ã¦ã„ã¾ã™ã€‚'}

å®¶äº‹ã¯å˜ãªã‚‹ä½œæ¥­ã§ã¯ãªãã€å®¶æ—ã®ç”Ÿæ´»ã®è³ªã«ç›´çµã™ã‚‹é‡è¦ãªè¦ç´ ã ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€åŠ¹ç‡ã ã‘ã§ãªãã€å®¶æ—ã¿ã‚“ãªãŒå¿«é©ã«éã”ã›ã‚‹ã“ã¨ã‚’é‡è¦–ã—ã¦ã„ã¾ã™ã€‚"""
        
        # ã‚»ã‚¯ã‚·ãƒ§ãƒ³3: ä»Šå¾Œã®æ–¹é‡
        section3 = f"""{' '.join(sentences[6:]) if len(sentences) > 6 else 'ä»Šå¾Œã‚‚å®¶æ—ã®æˆé•·ã‚„å¤‰åŒ–ã«åˆã‚ã›ã¦ã€æŸ”è»Ÿã«å®¶äº‹ã®ã‚„ã‚Šæ–¹ã‚’èª¿æ•´ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚'}

å®Œç’§ã‚’æ±‚ã‚ã™ããšã€å®¶æ—ã¿ã‚“ãªãŒå”åŠ›ã—ãªãŒã‚‰ã€ç„¡ç†ã®ãªã„ç¯„å›²ã§å®¶äº‹ã‚’åˆ†æ‹…ã—ã¦ã„ãã“ã¨ãŒå¤§åˆ‡ã ã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚"""
        
        return [section1, section2, section3]

    def create_work_sections(self, sentences: list) -> list:
        """ä»•äº‹ãƒ†ãƒ¼ãƒã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ï¼‰"""
        sections = []
        
        section1 = f"""{' '.join(sentences[:3])}

ãƒãƒãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã¨ã—ã¦åƒãä¸­ã§ã€å­è‚²ã¦ã¨ä»•äº‹ã®ãƒãƒ©ãƒ³ã‚¹ã‚’å–ã‚‹ã“ã¨ã¯æ—¥ã€…ã®å¤§ããªèª²é¡Œã§ã™ã€‚æŸ”è»Ÿãªåƒãæ–¹ãŒã§ãã‚‹åé¢ã€æ™‚é–“ç®¡ç†ã‚„é›†ä¸­ã§ãã‚‹ç’°å¢ƒä½œã‚ŠãŒé‡è¦ã«ãªã£ã¦ãã¾ã™ã€‚"""
        
        section2 = f"""{' '.join(sentences[3:6]) if len(sentences) > 3 else 'åœ¨å®…ãƒ¯ãƒ¼ã‚¯ã®ãƒ¡ãƒªãƒƒãƒˆã‚’æ´»ã‹ã—ãªãŒã‚‰ã€åŠ¹ç‡çš„ã«ä»•äº‹ã‚’é€²ã‚ã‚‹æ–¹æ³•ã‚’æ¨¡ç´¢ã—ã¦ã„ã¾ã™ã€‚'}

ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¯ãƒ¼ã‚¯ã§ã¯ã€äº‹å‰ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¤§åˆ‡ã«ã—ã¦ã€ãŠäº’ã„ã®æœŸå¾…å€¤ã‚’æ˜ç¢ºã«ã™ã‚‹ã“ã¨ã‚’å¿ƒãŒã‘ã¦ã„ã¾ã™ã€‚"""
        
        section3 = f"""{' '.join(sentences[6:]) if len(sentences) > 6 else 'å®¶æ—ã®çŠ¶æ³ã«åˆã‚ã›ã¦åƒãæ–¹ã‚’èª¿æ•´ã—ãªãŒã‚‰ã€é•·æœŸçš„ãªã‚­ãƒ£ãƒªã‚¢å½¢æˆã‚‚è¦–é‡ã«å…¥ã‚Œã¦ã„ã¾ã™ã€‚'}

ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã¨ã„ã†åƒãæ–¹ã‚’é€šã˜ã¦ã€å¤šãã®çµŒé¨“ã‚’ç©ã¿ãªãŒã‚‰æˆé•·ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚"""
        
        return [section1, section2, section3]

    def create_childcare_sections(self, sentences: list) -> list:
        """å­è‚²ã¦ãƒ†ãƒ¼ãƒã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ï¼‰"""
        sections = []
        
        section1 = f"""{' '.join(sentences[:3])}

3äººã®å­ã©ã‚‚ã‚’è‚²ã¦ã‚‹ä¸­ã§ã€æ¯æ—¥ãŒè©¦è¡ŒéŒ¯èª¤ã®é€£ç¶šã§ã™ã€‚å­ã©ã‚‚ã®æˆé•·ã«åˆã‚ã›ã¦å¯¾å¿œã‚’å¤‰ãˆã¦ã„ãå¿…è¦ãŒã‚ã‚Šã€ãã®éƒ½åº¦æ–°ã—ã„ç™ºè¦‹ãŒã‚ã‚Šã¾ã™ã€‚"""
        
        section2 = f"""{' '.join(sentences[3:6]) if len(sentences) > 3 else 'å­ã©ã‚‚ãŸã¡ã¨ã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã—ãªãŒã‚‰ã€ãã‚Œãã‚Œã®å€‹æ€§ã«åˆã‚ã›ãŸé–¢ã‚ã‚Šæ–¹ã‚’å¿ƒãŒã‘ã¦ã„ã¾ã™ã€‚'}

å­è‚²ã¦ã«æ­£è§£ã¯ãªã„ã¨æ€ã„ã¾ã™ãŒã€å­ã©ã‚‚ãŸã¡ã¨ä¸€ç·’ã«æˆé•·ã—ã¦ã„ãéç¨‹ã‚’æ¥½ã—ã¿ãªãŒã‚‰éã”ã—ã¦ã„ã¾ã™ã€‚"""
        
        section3 = f"""{' '.join(sentences[6:]) if len(sentences) > 6 else 'å­ã©ã‚‚ãŸã¡ã®æˆé•·ã«åˆã‚ã›ã¦ã€è¦ªã¨ã—ã¦ã‚‚æˆé•·ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚'}

å­ã©ã‚‚ãŸã¡ãŒè‡ªåˆ†ã‚‰ã—ãè‚²ã£ã¦ã„ã‘ã‚‹ã‚ˆã†ã€ã‚µãƒãƒ¼ãƒˆã—ãªãŒã‚‰è¦‹å®ˆã£ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚"""
        
        return [section1, section2, section3]

    def create_general_sections(self, sentences: list) -> list:
        """ä¸€èˆ¬çš„ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ï¼‰"""
        sections = []
        
        third = len(sentences) // 3
        
        section1 = f"""{' '.join(sentences[:third]) if sentences else 'æ—¥å¸¸ç”Ÿæ´»ã®ä¸­ã§æ°—ã¥ã„ãŸã“ã¨ã‚„æ„Ÿã˜ãŸã“ã¨ã‚’çš†ã•ã‚“ã¨å…±æœ‰ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚'}

æ¯æ—¥ã®ç”Ÿæ´»ã®ä¸­ã«ã¯ã€å°ã•ãªç™ºè¦‹ã‚„å­¦ã³ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚ãã†ã—ãŸæ°—ã¥ãã‚’å¤§åˆ‡ã«ã—ãªãŒã‚‰éã”ã—ã¦ã„ã¾ã™ã€‚"""
        
        section2 = f"""{' '.join(sentences[third:2*third]) if len(sentences) > third else 'æ§˜ã€…ãªå ´é¢ã§å­¦ã‚“ã ã“ã¨ã‚„æ„Ÿã˜ãŸã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚'}

å®Ÿéš›ã«çµŒé¨“ã—ã¦ã¿ã‚‹ã“ã¨ã§åˆã‚ã¦åˆ†ã‹ã‚‹ã“ã¨ã‚‚å¤šãã€æŒ‘æˆ¦ã™ã‚‹ã“ã¨ã®å¤§åˆ‡ã•ã‚’å®Ÿæ„Ÿã—ã¦ã„ã¾ã™ã€‚"""
        
        section3 = f"""{' '.join(sentences[2*third:]) if len(sentences) > 2*third else 'ä»Šå¾Œã‚‚æ–°ã—ã„æŒ‘æˆ¦ã‚’ç¶šã‘ãªãŒã‚‰æˆé•·ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚'}

ã“ã‚Œã‹ã‚‰ã‚‚çš†ã•ã‚“ã¨ä¸€ç·’ã«å­¦ã³åˆã„ãªãŒã‚‰ã€ã‚ˆã‚Šè‰¯ã„æ—¥ã€…ã‚’éã”ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚"""
        
        return [section1, section2, section3]

    def create_fallback_sections(self, theme: str) -> list:
        """ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³"""
        return [
            "æœ€è¿‘ã®ç”Ÿæ´»ã®ä¸­ã§æ„Ÿã˜ã¦ã„ã‚‹ã“ã¨ã«ã¤ã„ã¦ãŠè©±ã—ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚æ—¥ã€…ã®æš®ã‚‰ã—ã®ä¸­ã«ã¯å¤šãã®å­¦ã³ãŒã‚ã‚Šã€ãã‚Œã‚‰ã‚’çš†ã•ã‚“ã¨å…±æœ‰ã§ãã‚Œã°ã¨æ€ã„ã¾ã™ã€‚",
            "å…·ä½“çš„ãªä½“é¨“ã‚’é€šã—ã¦å­¦ã‚“ã ã“ã¨ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚å°ã•ãªã“ã¨ã§ã‚‚ã€å®Ÿéš›ã«ã‚„ã£ã¦ã¿ã‚‹ã“ã¨ã§æ–°ã—ã„ç™ºè¦‹ãŒã‚ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚",
            "ä»Šå¾Œã‚‚ã“ã†ã—ãŸæ—¥ã€…ã®æ°—ã¥ãã‚’å¤§åˆ‡ã«ã—ãªãŒã‚‰ã€çš†ã•ã‚“ã¨å…±æœ‰ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚ä¸€ç·’ã«å­¦ã³åˆã„ãªãŒã‚‰æˆé•·ã—ã¦ã„ã‘ã‚Œã°ã¨æ€ã„ã¾ã™ã€‚"
        ]

    def generate_general_article_from_transcript(self, clean_text: str) -> str:
        """éŸ³å£°å†…å®¹ã‹ã‚‰èª­ã¿ã‚„ã™ã„è¨˜äº‹ã‚’ç”Ÿæˆï¼ˆ2000æ–‡å­—ç¨‹åº¦ï¼‰"""
        
        # ä¸»è¦ãƒ†ãƒ¼ãƒã‚’æŠ½å‡º
        theme_data = self.extract_key_themes(clean_text)
        main_theme = theme_data['main_theme']
        
        # æ„å‘³ã®ã‚ã‚‹æ–‡ã‚’æŠ½å‡º
        meaningful_sentences = self.extract_meaningful_sentences(clean_text)
        
        # ä¸€è²«æ€§ã®ã‚ã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ
        sections = self.create_coherent_sections(meaningful_sentences, main_theme)
        
        # ãƒ†ãƒ¼ãƒã«å¿œã˜ãŸå°å…¥ã¨çµè«–
        theme_titles = {
            'housework': 'å®¶äº‹ã«ã¤ã„ã¦æ€ã†ã“ã¨',
            'work': 'åƒãæ–¹ã«ã¤ã„ã¦è€ƒãˆã¦ã„ã‚‹ã“ã¨', 
            'childcare': 'å­è‚²ã¦ã«ã¤ã„ã¦æ„Ÿã˜ã‚‹ã“ã¨',
            'content': 'æƒ…å ±ç™ºä¿¡ã«ã¤ã„ã¦æ€ã†ã“ã¨',
            'lifestyle': 'æœ€è¿‘ã®ç”Ÿæ´»ã«ã¤ã„ã¦'
        }
        
        title = theme_titles.get(main_theme, 'æœ€è¿‘è€ƒãˆã¦ã„ã‚‹ã“ã¨')
        
        # å°å…¥éƒ¨
        intro = f"""ãƒãƒŠãƒŸã§ã™ã€‚

ä»Šå›ã¯{title}ã«ã¤ã„ã¦ãŠè©±ã—ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

3äººã®å­ã©ã‚‚ã‚’è‚²ã¦ãªãŒã‚‰ãƒãƒãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã¨ã—ã¦åƒã„ã¦ã„ã‚‹ä¸­ã§ã€æ—¥ã€…æ§˜ã€…ãªã“ã¨ã‚’è€ƒãˆãŸã‚Šä½“é¨“ã—ãŸã‚Šã—ã¦ã„ã¾ã™ã€‚ä»Šå›ã¯ã€ãã®ä¸­ã§ã‚‚ç‰¹ã«çš†ã•ã‚“ã¨å…±æœ‰ã—ãŸã„ã¨æ€ã£ãŸå†…å®¹ã«ã¤ã„ã¦ãŠè©±ã—ã—ã¾ã™ã€‚

åŒã˜ã‚ˆã†ãªç«‹å ´ã®æ–¹ã‚„ã€ä¼¼ãŸã‚ˆã†ãªçŠ¶æ³ã«ã‚ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°å¬‰ã—ã„ã§ã™ã€‚"""
        
        # çµè«–éƒ¨
        conclusion = f"""ä»Šå›ãŠè©±ã—ã—ãŸå†…å®¹ã¯ã€ç§è‡ªèº«ã®çµŒé¨“ã‚„è€ƒãˆã«åŸºã¥ãã‚‚ã®ã§ã™ãŒã€çš†ã•ã‚“ã®æ—¥å¸¸ç”Ÿæ´»ã«ã‚‚ä½•ã‹ã—ã‚‰ã®ãƒ’ãƒ³ãƒˆã«ãªã‚Œã°ã¨æ€ã„ã¾ã™ã€‚

å­è‚²ã¦ã¨ä»•äº‹ã‚’ä¸¡ç«‹ã—ãªãŒã‚‰ã®æ—¥ã€…ã¯æ±ºã—ã¦æ¥½ã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ãã®ä¸­ã«ã‚‚å¤šãã®å­¦ã³ã‚„æ°—ã¥ããŒã‚ã‚Šã¾ã™ã€‚ä»Šå¾Œã‚‚ã“ã†ã—ãŸçµŒé¨“ã‚’çš†ã•ã‚“ã¨å…±æœ‰ã—ãªãŒã‚‰ã€ä¸€ç·’ã«æˆé•·ã—ã¦ã„ã‘ã‚Œã°ã¨æ€ã„ã¾ã™ã€‚

çš†ã•ã‚“ã‚‚ãœã²ã€æ—¥å¸¸ã®å°ã•ãªæ°—ã¥ãã‚„å·¥å¤«ã‚’å¤§åˆ‡ã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚ãã†ã—ãŸç©ã¿é‡ã­ãŒã€ã‚ˆã‚Šè‰¯ã„ç”Ÿæ´»ã«ã¤ãªãŒã£ã¦ã„ãã®ã§ã¯ãªã„ã‹ã¨æ€ã„ã¾ã™ã€‚"""
        
        # è¨˜äº‹ã‚’çµ„ã¿ç«‹ã¦ï¼ˆåŒºåˆ‡ã‚Šç·šä»˜ãï¼‰
        article = f"{intro}\\n\\n---------------\\n\\n{sections[0]}\\n\\n---------------\\n\\n{sections[1]}\\n\\n---------------\\n\\n{sections[2]}\\n\\n---------------\\n\\n{conclusion}"
        
        return article

    def process_audio_file(self, audio_path: str):
        """éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡¦ç†ã—ã¦è¨˜äº‹ã‚’ç”Ÿæˆ"""
        filename = Path(audio_path).name
        
        # å‰å›ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’å®Œå…¨ã‚¯ãƒªã‚¢
        self.cleanup_previous_session()
        
        print(f"\\nğŸµ æ–‡å­—èµ·ã“ã—ä¸­...")
        
        # æ–‡å­—èµ·ã“ã—
        transcript = self.transcribe_with_whisper(audio_path)
        
        if not transcript:
            print("âŒ æ–‡å­—èµ·ã“ã—ã«å¤±æ•—ã—ã¾ã—ãŸ")
            return
        
        print(f"ğŸ¤– è¨˜äº‹ç”Ÿæˆä¸­...")
        
        # å‹•çš„è¨˜äº‹ç”Ÿæˆ
        article = self.generate_article_from_content(transcript)
        
        print(f"âœ… å‡¦ç†å®Œäº†\\n")
        
        # çµæœè¡¨ç¤º
        self.display_results(article)

    def display_results(self, article: str):
        """çµæœã‚’è¡¨ç¤º"""
        # è¨˜äº‹ã‚’ç›´æ¥è¡¨ç¤º
        print("=" * 80)
        print("ğŸ“° ç”Ÿæˆã•ã‚ŒãŸè¨˜äº‹:")
        print("=" * 80)
        print(article)
        print("=" * 80)
        
        # ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
        try:
            pyperclip.copy(article)
            print("\\nâœ… è¨˜äº‹ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ä¿å­˜ã—ã¾ã—ãŸï¼")
        except Exception as e:
            print(f"âš ï¸ ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ä¿å­˜ã«å¤±æ•—: {e}")

    def print_banner(self):
        """ãƒãƒŠãƒ¼è¡¨ç¤º"""
        print("ğŸ™ï¸" + "=" * 60)
        print("    å‹•çš„è¨˜äº‹ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ")
        print("    ğŸ’° éŸ³å£°å†…å®¹ã«å¿œã˜ãŸè¨˜äº‹ã‚’è‡ªå‹•ç”Ÿæˆ")
        print("=" * 62)
        print()

    def main(self):
        """ãƒ¡ã‚¤ãƒ³å‡¦ç†"""
        parser = argparse.ArgumentParser(description='å‹•çš„è¨˜äº‹ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ')
        parser.add_argument('audio_file', nargs='?', help='éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹')
        parser.add_argument('--model', choices=['tiny', 'base', 'small', 'medium', 'large'], 
                          default='tiny', help='Whisperãƒ¢ãƒ‡ãƒ«ã‚’æŒ‡å®š')
        
        args = parser.parse_args()
        
        # ãƒ¢ãƒ‡ãƒ«æŒ‡å®šãŒã‚ã‚Œã°è¨­å®š
        if args.model:
            self.model_name = args.model
        
        self.print_banner()
        
        print("ğŸ’¡ ä½¿ç”¨æ–¹æ³•:")
        print("   1. ğŸ“ éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã—ã¦Enter")
        print("   2. ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’ç›´æ¥å…¥åŠ›")
        print()
        
        # ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã§éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹å ´åˆ
        if args.audio_file:
            audio_path = args.audio_file.strip().strip('"').strip("'")
            audio_path = os.path.expanduser(audio_path)
            
            if os.path.exists(audio_path):
                self.process_audio_file(audio_path)
            else:
                print(f"âŒ ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: {audio_path}")
            return
        
        # ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰
        while True:
            print("ğŸ¯ éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã“ã“ã«ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹ã‹ã€ãƒ‘ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
            print("   (çµ‚äº†ã™ã‚‹ã«ã¯ 'q' ã‚’å…¥åŠ›)")
            audio_input = input("ğŸ™ï¸ ãƒ•ã‚¡ã‚¤ãƒ«: ").strip()
            
            if audio_input.lower() in ['q', 'quit', 'exit']:
                break
            
            if not audio_input:
                continue
            
            # ãƒ‘ã‚¹ã®æ•´ç†ï¼ˆãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—å¯¾å¿œï¼‰
            audio_path = audio_input.strip()
            
            # ã‚¯ã‚ªãƒ¼ãƒˆæ–‡å­—ã‚’å‰Šé™¤
            if audio_path.startswith('"') and audio_path.endswith('"'):
                audio_path = audio_path[1:-1]
            elif audio_path.startswith("'") and audio_path.endswith("'"):
                audio_path = audio_path[1:-1]
            
            # å…¨ã¦ã®ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚’å‡¦ç†
            audio_path = audio_path.replace('\\ ', ' ')
            audio_path = audio_path.replace('\\~', '~')
            audio_path = audio_path.replace('\\\\', '\\')
            
            # ãƒãƒ«ãƒ€å±•é–‹
            audio_path = os.path.expanduser(audio_path)
            
            print(f"ğŸ” å‡¦ç†é–‹å§‹: {os.path.basename(audio_path)}")
            
            if os.path.exists(audio_path):
                self.process_audio_file(audio_path)
            else:
                print(f"âŒ ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“")
                continue
            
            # æ¬¡ã®å‡¦ç†ã‚’ç¢ºèª
            print("\\n" + "=" * 60)
            next_action = input("ğŸ”„ åˆ¥ã®éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡¦ç†ã—ã¾ã™ã‹ï¼Ÿ (y/N): ").lower().strip()
            if next_action not in ['y', 'yes']:
                break
        
        print("ğŸ‘‹ ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼")

if __name__ == "__main__":
    generator = DynamicArticleGenerator()
    generator.main()